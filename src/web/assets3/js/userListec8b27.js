(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{0:function(e,t,r){"use strict";function i(e){return e||""}function a(e){return e||!1}function o(e){for(var t in e)""===e[t]&&delete e[t];return e}function n(e){for(var t=String.fromCharCode(e.charCodeAt(0)+e.length),r=1;r<e.length;r++)t+=String.fromCharCode(e.charCodeAt(r)+e.charCodeAt(r-1));return escape(t)}function l(e){e=unescape(e);for(var t=String.fromCharCode(e.charCodeAt(0)-e.length),r=1;r<e.length;r++)t+=String.fromCharCode(e.charCodeAt(r)-t.charCodeAt(r-1));return t}function s(e){if(!t)var t=new Date(e);return t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate()}function m(e){if(!t)var t=new Date(e);return t.getFullYear()+""+(t.getMonth()+1)}function u(e){var t=this,r=!1;if("application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"!=e.headers["content-type"]&&"application/vnd.ms-excel"!=e.headers["content-type"]||(r=!0),r){var i=new Blob([e.data],{type:"application/vnd.ms-excel"}),a=e.headers["content-disposition"].split(";")[1].split("=")[1];if("download"in document.createElement("a")){var o=document.createElement("a");o.style.display="none",o.href=window.URL.createObjectURL(i),o.download=decodeURIComponent(a),document.body.appendChild(o),o.click(),URL.revokeObjectURL(o.href),document.body.removeChild(o)}else navigator.msSaveBlob(i,a)}else{var n=new FileReader;n.onload=function(e){return t.$message.error(JSON.parse(e.target.result).msg)},n.readAsText(e.data)}}function d(e,t,r){var i;return function(){for(var a=arguments.length,o=new Array(a),n=0;n<a;n++)o[n]=arguments[n];var l=this;if(i&&clearTimeout(i),r){var s=!i;i=setTimeout((function(){i=null}),t),s&&e.apply(l,o)}else i=setTimeout((function(){e.apply(l,o)}),t)}}r.d(t,"f",(function(){return i})),r.d(t,"d",(function(){return a})),r.d(t,"h",(function(){return o})),r.d(t,"e",(function(){return n})),r.d(t,"i",(function(){return l})),r.d(t,"a",(function(){return s})),r.d(t,"c",(function(){return m})),r.d(t,"b",(function(){return u})),r.d(t,"g",(function(){return d})),r(27)},135:function(e,t,r){"use strict";r(56)},136:function(e,t,r){(t=r(3)(!1)).push([e.i,".userList_page[data-v-64e87881]{padding:0 20px}.topmenu[data-v-64e87881]{display:flex;justify-content:space-between;align-items:center;height:60px;padding:0 20px;margin:20px 0px 0px;border:1px solid #efefef}.topmenu .title[data-v-64e87881]{color:#95b3ce;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.topmenu span.title[data-v-64e87881]{margin-left:16px}.formbox[data-v-64e87881]{border:1px solid #efefef;padding:20px 0}.formbox .demo-ruleForm .line[data-v-64e87881]{display:flex;justify-content:flex-start;align-items:center}.formbox .demo-ruleForm .orderinput[data-v-64e87881]{width:130px}.formbox .demo-ruleForm .userStatus[data-v-64e87881]{width:100px}.formbox .demo-ruleForm .userType[data-v-64e87881]{width:130px}.formbox .demo-ruleForm label[data-v-64e87881]{font-size:12px}.formbox .demo-ruleForm .timearea[data-v-64e87881]{margin-left:28px}.formbox .demo-ruleForm .orderlowinput[data-v-64e87881],.formbox .demo-ruleForm .orderhighinput[data-v-64e87881]{display:inline-block;position:relative}.formbox .demo-ruleForm .orderlowinput .tip[data-v-64e87881],.formbox .demo-ruleForm .orderhighinput .tip[data-v-64e87881]{color:#F56C6C;font-size:12px;line-height:1;padding-top:4px;position:absolute;top:100%;left:0}.formbox .demo-ruleForm .btn[data-v-64e87881]{padding-left:28px}.table[data-v-64e87881]{overflow-x:auto}.table[data-v-64e87881] ::-webkit-scrollbar{width:5px;height:5px}.table .btn[data-v-64e87881]{display:inline-block;margin-left:20px;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.table .auth.btn[data-v-64e87881]{margin-left:0}.dialogMain[data-v-64e87881]{width:100%;height:230px;padding-top:20px;padding-left:25%}.dialogMain .dMain_line[data-v-64e87881]{margin-bottom:12px}.dialogMain .dMain_line span[data-v-64e87881]{color:#8e8d8d}.dialogMain .dMain_line .dialog_title[data-v-64e87881]{margin-right:2px}.Pagination[data-v-64e87881]{display:flex;justify-content:space-between;margin-top:8px}\n",""]),e.exports=t},208:function(e,t,r){"use strict";r.r(t);var i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"userList_page fillcontain"},[e._m(0),e._v(" "),r("div",{staticClass:"formbox"},[r("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,"label-position":e.labelPosition,rules:e.rules,"label-width":"auto"}},[r("div",{staticClass:"line"},[r("el-form-item",{attrs:{label:"手机号",prop:"phone"}},[r("el-input",{attrs:{placeholder:"请输入手机号"},model:{value:e.ruleForm.phone,callback:function(t){e.$set(e.ruleForm,"phone",t)},expression:"ruleForm.phone"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"用户状态",prop:"userStatus"}},[r("el-select",{staticClass:"userStatus",attrs:{placeholder:"请选择"},model:{value:e.ruleForm.userStatus,callback:function(t){e.$set(e.ruleForm,"userStatus",t)},expression:"ruleForm.userStatus"}},e._l(e.userStatusOptions,(function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),e._v(" "),r("el-form-item",{attrs:{label:"用户类型",prop:"userType"}},[r("el-select",{staticClass:"userType",attrs:{placeholder:"请选择"},model:{value:e.ruleForm.userType,callback:function(t){e.$set(e.ruleForm,"userType",t)},expression:"ruleForm.userType"}},e._l(e.userTypeOptions,(function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),e._v(" "),r("el-form-item",{staticClass:"timearea",attrs:{label:"剩余时间区间"}},[r("div",{staticClass:"orderlowinput"},[r("el-input",{staticClass:"orderinput",attrs:{placeholder:"输入最小值"},on:{blur:function(t){return e.validateLow()}},model:{value:e.ruleForm.minTime,callback:function(t){e.$set(e.ruleForm,"minTime",t)},expression:"ruleForm.minTime"}}),e._v(" "),r("i",{staticClass:"tip"},[e._v(e._s(e.ruleForm.minTimetip))])],1),e._v(" "),r("span",[e._v("至")]),e._v(" "),r("div",{staticClass:"orderhighinput"},[r("el-input",{staticClass:"orderinput",attrs:{placeholder:"输入最大值"},on:{blur:function(t){return e.validateHigh()}},model:{value:e.ruleForm.maxTime,callback:function(t){e.$set(e.ruleForm,"maxTime",t)},expression:"ruleForm.maxTime"}}),e._v(" "),r("i",{staticClass:"tip"},[e._v(e._s(e.ruleForm.maxTimetip))])],1)])],1),e._v(" "),r("div",{staticClass:"line"},[r("el-form-item",{attrs:{label:"开始时间",prop:"startTime"}},[r("el-date-picker",{staticClass:"timeline",attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.ruleForm.startTime,callback:function(t){e.$set(e.ruleForm,"startTime",t)},expression:"ruleForm.startTime"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"结束时间",prop:"endTime"}},[r("el-date-picker",{staticClass:"timeline",attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.ruleForm.endTime,callback:function(t){e.$set(e.ruleForm,"endTime",t)},expression:"ruleForm.endTime"}})],1)],1),e._v(" "),r("div",{staticClass:"btn"},[r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("查询")]),e._v(" "),r("el-button",{on:{click:function(t){return e.resetForm("ruleForm")}}},[e._v("重置")])],1)])],1),e._v(" "),r("div",{staticClass:"table"},[r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{"element-loading-text":"拼命加载中",data:e.tableData,border:""}},[r("el-table-column",{attrs:{prop:"phone",label:"手机号","min-width":"200"}}),e._v(" "),r("el-table-column",{attrs:{prop:"userStatus",label:"状态","min-width":"120"}}),e._v(" "),r("el-table-column",{attrs:{prop:"userType",label:"用户类型","min-width":"120"}}),e._v(" "),r("el-table-column",{attrs:{prop:"goodsAuth",label:"产品权限(天)","min-width":"200"}}),e._v(" "),r("el-table-column",{attrs:{prop:"startTime",label:"起始时间","min-width":"200"}}),e._v(" "),r("el-table-column",{attrs:{prop:"endTime",label:"终止时间","min-width":"200"}}),e._v(" "),r("el-table-column",{attrs:{fixed:"right",label:"操作",width:"300"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("div",{staticClass:"btn",on:{click:function(r){return e.goodslog(t.row.phone)}}},[r("i",{staticClass:"el-icon-setting"}),e._v(" "),r("span",[e._v("商品交易记录")])])]}}])})],1)],1),e._v(" "),r("div",{staticClass:"Pagination"},[r("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[3,5,10,20],"page-size":e.limit,layout:"total, sizes, prev, pager, next, jumper",total:e.count},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)])};i._withStripped=!0;var a=r(16),o=r(0),n={data:function(){return{msg:"4",labelPosition:"left",currentPage:1,offset:1,limit:10,pagesize:1,count:10,loading:!0,showeditlog:!1,ruleForm:{startTime:"",endTime:"",minTime:"",minTimetip:"",maxTime:"",maxTimetip:"",phone:"",userStatus:0,userType:""},rules:{timeline:[{required:!0,message:"请选择创建时间",trigger:"blur"}],phone:[{pattern:/^[0-9]{11}$/,message:"请填写正确的手机号",trigger:"blur"}]},userTypeOptions:[{value:1,label:"全价用户"},{value:2,label:"监管用户"},{value:3,label:"内部免费用户"},{value:4,label:"试用用户"}],userStatusOptions:[{value:0,label:"全部"},{value:1,label:"有权限"},{value:2,label:"无权限"}],tableData:[]}},methods:{initdata:function(){this.$route.query.key&&(this.ruleForm.phone=Object(o.i)(this.$route.query.key));var e={phoneNumber:this.ruleForm.phone,limit:this.limit,offset:this.offset};this.getuserList(e)},getuserList:function(e){var t=this;Object(a.c)(Object(o.h)(e)).then((function(e){e.data.flag?(t.loading=!1,t.tableData=[],e.data.data.rows.forEach((function(e,r){var i={id:e.id,phone:e.phoneNumber,userType:e.userType,userStatus:e.days>0?"有权限":"无权限",goodsAuth:e.days,startTime:e.level2StartTime,endTime:e.level2EndTime};switch(i.userType){case 1:i.userType="全价用户";break;case 2:i.userType="监管用户";break;case 3:i.userType="内部免费用户";break;case 4:i.userType="试用用户"}t.tableData.push(i)})),t.count=e.data.data.total):(t.loading=!1,t.$message({message:e.data.msg,type:"error"}))})).catch((function(e){t.loading=!1,t.$message({message:"系统异常，请稍后再试",type:"error"})}))},submitForm:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return!1;var r={beginTime:"",endBeginTime:"",endEndTime:"",endTime:"",maxDays:t.ruleForm.maxTime,minDays:t.ruleForm.minTime,phoneNumber:t.ruleForm.phone,status:t.ruleForm.userStatus,userType:t.ruleForm.userType,limit:t.limit,offset:t.offset};for(var i in t.ruleForm.startTime&&(r.beginTime=Object(o.a)(t.ruleForm.startTime[0]),r.endTime=Object(o.a)(t.ruleForm.startTime[1])),t.ruleForm.endTime&&(r.endBeginTime=Object(o.a)(t.ruleForm.endTime[0]),r.endEndTime=Object(o.a)(t.ruleForm.endTime[1])),r)""===r[i]&&delete r[i];t.getuserList(r)}))},resetForm:function(e){this.$refs[e].resetFields(),this.ruleForm.minTime="",this.ruleForm.minTimetip="",this.ruleForm.maxTime="",this.ruleForm.maxTimetip=""},goodslog:function(e){this.$router.push({path:"/orderManage/orderList",query:{key:Object(o.e)(e)}})},handleSizeChange:function(e){this.loading=!0,this.limit=e;var t={beginTime:"",endBeginTime:"",endEndTime:"",endTime:"",maxDays:this.ruleForm.maxTime,minDays:this.ruleForm.minTime,phoneNumber:this.ruleForm.phone,status:this.ruleForm.userStatus,userType:this.ruleForm.userType,limit:this.limit,offset:this.offset};this.ruleForm.startTime&&(t.beginTime=Object(o.a)(this.ruleForm.startTime[0]),t.endTime=Object(o.a)(this.ruleForm.startTime[1])),this.ruleForm.endTime&&(t.endBeginTime=Object(o.a)(this.ruleForm.endTime[0]),t.endEndTime=Object(o.a)(this.ruleForm.endTime[1])),this.getuserList(t)},handleCurrentChange:function(e){this.loading=!0,this.currentPage=e;var t={beginTime:"",endBeginTime:"",endEndTime:"",endTime:"",maxDays:this.ruleForm.maxTime,minDays:this.ruleForm.minTime,phoneNumber:this.ruleForm.phone,status:this.ruleForm.userStatus,userType:this.ruleForm.userType,limit:this.limit,offset:e};this.ruleForm.startTime&&(t.beginTime=Object(o.a)(this.ruleForm.startTime[0]),t.endTime=Object(o.a)(this.ruleForm.startTime[1])),this.ruleForm.endTime&&(t.endBeginTime=Object(o.a)(this.ruleForm.endTime[0]),t.endEndTime=Object(o.a)(this.ruleForm.endTime[1])),this.getuserList(t)},validateLow:function(){isNaN(this.ruleForm.minTime)?this.ruleForm.minTimetip="请输入数字":this.ruleForm.maxTime&&Number(this.ruleForm.minTime)>Number(this.ruleForm.maxTime)?this.ruleForm.minTimetip="要低于最大值":this.ruleForm.minTimetip="",""==this.ruleForm.minTime&&(this.ruleForm.minTimetip="")},validateHigh:function(){isNaN(this.ruleForm.maxTime)?this.ruleForm.maxTimetip="请输入数字":this.ruleForm.minTime&&Number(this.ruleForm.maxTime)<Number(this.ruleForm.minTime)?this.ruleForm.maxTimetip="要高于最小值":this.ruleForm.maxTimetip="",""==this.ruleForm.maxTime&&(this.ruleForm.maxTimetip="")}},created:function(){this.initdata()}},l=(r(135),r(1)),s=Object(l.a)(n,i,[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"topmenu"},[t("div",{staticClass:"topmenu_l"},[t("i",{staticClass:"el-icon-document title"}),this._v(" "),t("span",{staticClass:"title"},[this._v("用户管理")])])])}],!1,null,"64e87881",null);s.options.__file="src/page/userManage/userList.vue",t.default=s.exports},27:function(e,t){function r(t){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?(e.exports=r=function(e){return typeof e},e.exports.default=e.exports,e.exports.__esModule=!0):(e.exports=r=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.default=e.exports,e.exports.__esModule=!0),r(t)}e.exports=r,e.exports.default=e.exports,e.exports.__esModule=!0},56:function(e,t,r){var i=r(136);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals),(0,r(4).default)("6872ab2b",i,!1,{})}}]);